@model List<Codex.Models.Computers>

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="icon" href="~/imagenes/Codex-Logo.png" />
    <link rel="stylesheet" href="~/css/provider.css" asp-append-version="true" />
    <title>Codex | Administración de Computadores</title>
</head>
<body>

    <!-- HEADER -->
    <header class="header" id="header">
        <nav class="nav_container">
            <a href="@Url.Action("Index", "Home")" class="nav_logo">Codex</a>

            <div class="nav_menu" id="nav_menu">
                <ul class="nav_list">

                    <li>
                        <a href="#" class="nav_link">
                            <img src="~/imagenes/carro-de-la-carretilla.png" class="nav_icon" />
                        </a>
                    </li>

                    <li>
                        <a asp-controller="Favoritos" asp-action="Favoritos" class="nav_link">
                            <img src="~/imagenes/me-gusta.png" class="nav_icon" />
                        </a>
                    </li>

                    <li>
                        <a asp-controller="Auth" asp-action="Auth" class="nav_link">
                            <img src="~/imagenes/usuario-extranjero (1).png" class="nav_icon" />
                        </a>
                    </li>

                </ul>
            </div>

        </nav>
    </header>

    <!--Mensajes-->
    @if (TempData["Success"] != null)
    {
        <div id="successMessage" class="alert-success">
            @TempData["Success"]
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div id="errorMessage" class="alert-error">
            @TempData["Error"]
        </div>
    }

    <!-- CONTENIDO -->
    <div class="container">
        <div class="admin-container">

            <h2 class="title">Gestión de Computadores</h2>

            <!-- BUSCADOR -->
            <div class="filter-row" style="display: flex; align-items: center; gap: 10px;">
                <input type="text" id="searchInput" placeholder="Buscar..." class="input-search" />
            </div>


            <!-- TABLA -->
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Marca</th>
                            <th>Modelo</th>
                            <th>Procesador</th>
                            <th>Memoria</th>
                            <th>Almacenamiento</th>
                            <th>Precio</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var c in Model)
                        {
                            <tr>
                                <td>
                                    <input type="text" value="@c.IdComputers" readonly class="cell-input" />
                                </td>

                                <td>
                                    <input type="text" name="Brand" value="@c.Brand"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>

                                <td>
                                    <input type="text" name="Model" value="@c.Model"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>

                                <td>
                                    <input type="text" name="Processor" value="@c.Processor"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>

                                <td>
                                    <input type="text" name="Memory" value="@c.Memory"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>

                                <td>
                                    <input type="text" name="Storage" value="@c.Storage"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>

                                <td>
                                    <input type="number" step="0.01" name="Price"
                                           value="@c.Price.ToString("0.00", System.Globalization.CultureInfo.InvariantCulture)"
                                           class="cell-input" form="edit-@c.IdComputers" />
                                </td>


                                <td class="actions">

                                    <!-- EDITAR -->
                                    <form id="edit-@c.IdComputers" asp-action="Edit"
                                          asp-controller="ProviderAdmin" method="post" style="display:inline;">
                                        <input type="hidden" name="IdComputers" value="@c.IdComputers" />
                                        <button type="submit" class="btn-edit confirm-save">Editar</button>
                                    </form>

                                    <!-- ELIMINAR -->
                                    <form asp-action="Delete" asp-controller="ProviderAdmin"
                                          method="post" style="display:inline;">
                                        <input type="hidden" name="id" value="@c.IdComputers" />
                                        <button type="submit" class="btn-delete confirm-delete">Eliminar</button>
                                    </form>

                                </td>
                            </tr>
                        }
                    </tbody>

                </table>
            </div>

            <!-- MODAL -->
            <div id="confirmModal" class="modal-overlay" style="display:none;">
                <div class="modal-box">
                    <p id="modalMessage">¿Estás seguro?</p>

                    <div class="modal-buttons">
                        <button id="btnNo" class="modal-btn cancel">Cancelar</button>
                        <button id="btnYes" class="modal-btn accept">Aceptar</button>
                    </div>
                </div>
            </div>

        </div>
    
    </div>

    <footer class="footer">
        <p>&copy; 2025 Codex | Panel de administración</p>
    </footer>


    <script src="~/js/provider.js"></script>
</body>
</html>
